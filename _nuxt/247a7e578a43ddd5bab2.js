(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{322:function(t,e,n){var map={"./af":190,"./af.js":190,"./ar":191,"./ar-dz":192,"./ar-dz.js":192,"./ar-kw":193,"./ar-kw.js":193,"./ar-ly":194,"./ar-ly.js":194,"./ar-ma":195,"./ar-ma.js":195,"./ar-sa":196,"./ar-sa.js":196,"./ar-tn":197,"./ar-tn.js":197,"./ar.js":191,"./az":198,"./az.js":198,"./be":199,"./be.js":199,"./bg":200,"./bg.js":200,"./bm":201,"./bm.js":201,"./bn":202,"./bn.js":202,"./bo":203,"./bo.js":203,"./br":204,"./br.js":204,"./bs":205,"./bs.js":205,"./ca":206,"./ca.js":206,"./cs":207,"./cs.js":207,"./cv":208,"./cv.js":208,"./cy":209,"./cy.js":209,"./da":210,"./da.js":210,"./de":211,"./de-at":212,"./de-at.js":212,"./de-ch":213,"./de-ch.js":213,"./de.js":211,"./dv":214,"./dv.js":214,"./el":215,"./el.js":215,"./en-SG":216,"./en-SG.js":216,"./en-au":217,"./en-au.js":217,"./en-ca":218,"./en-ca.js":218,"./en-gb":219,"./en-gb.js":219,"./en-ie":220,"./en-ie.js":220,"./en-il":221,"./en-il.js":221,"./en-nz":222,"./en-nz.js":222,"./eo":223,"./eo.js":223,"./es":224,"./es-do":225,"./es-do.js":225,"./es-us":226,"./es-us.js":226,"./es.js":224,"./et":227,"./et.js":227,"./eu":228,"./eu.js":228,"./fa":229,"./fa.js":229,"./fi":230,"./fi.js":230,"./fo":231,"./fo.js":231,"./fr":232,"./fr-ca":233,"./fr-ca.js":233,"./fr-ch":234,"./fr-ch.js":234,"./fr.js":232,"./fy":235,"./fy.js":235,"./ga":236,"./ga.js":236,"./gd":237,"./gd.js":237,"./gl":238,"./gl.js":238,"./gom-latn":239,"./gom-latn.js":239,"./gu":240,"./gu.js":240,"./he":241,"./he.js":241,"./hi":242,"./hi.js":242,"./hr":243,"./hr.js":243,"./hu":244,"./hu.js":244,"./hy-am":245,"./hy-am.js":245,"./id":246,"./id.js":246,"./is":247,"./is.js":247,"./it":248,"./it-ch":249,"./it-ch.js":249,"./it.js":248,"./ja":250,"./ja.js":250,"./jv":251,"./jv.js":251,"./ka":252,"./ka.js":252,"./kk":253,"./kk.js":253,"./km":254,"./km.js":254,"./kn":255,"./kn.js":255,"./ko":256,"./ko.js":256,"./ku":257,"./ku.js":257,"./ky":258,"./ky.js":258,"./lb":259,"./lb.js":259,"./lo":260,"./lo.js":260,"./lt":261,"./lt.js":261,"./lv":262,"./lv.js":262,"./me":263,"./me.js":263,"./mi":264,"./mi.js":264,"./mk":265,"./mk.js":265,"./ml":266,"./ml.js":266,"./mn":267,"./mn.js":267,"./mr":268,"./mr.js":268,"./ms":269,"./ms-my":270,"./ms-my.js":270,"./ms.js":269,"./mt":271,"./mt.js":271,"./my":272,"./my.js":272,"./nb":273,"./nb.js":273,"./ne":274,"./ne.js":274,"./nl":275,"./nl-be":276,"./nl-be.js":276,"./nl.js":275,"./nn":277,"./nn.js":277,"./pa-in":278,"./pa-in.js":278,"./pl":279,"./pl.js":279,"./pt":280,"./pt-br":281,"./pt-br.js":281,"./pt.js":280,"./ro":282,"./ro.js":282,"./ru":283,"./ru.js":283,"./sd":284,"./sd.js":284,"./se":285,"./se.js":285,"./si":286,"./si.js":286,"./sk":287,"./sk.js":287,"./sl":288,"./sl.js":288,"./sq":289,"./sq.js":289,"./sr":290,"./sr-cyrl":291,"./sr-cyrl.js":291,"./sr.js":290,"./ss":292,"./ss.js":292,"./sv":293,"./sv.js":293,"./sw":294,"./sw.js":294,"./ta":295,"./ta.js":295,"./te":296,"./te.js":296,"./tet":297,"./tet.js":297,"./tg":298,"./tg.js":298,"./th":299,"./th.js":299,"./tl-ph":300,"./tl-ph.js":300,"./tlh":301,"./tlh.js":301,"./tr":302,"./tr.js":302,"./tzl":303,"./tzl.js":303,"./tzm":304,"./tzm-latn":305,"./tzm-latn.js":305,"./tzm.js":304,"./ug-cn":306,"./ug-cn.js":306,"./uk":307,"./uk.js":307,"./ur":308,"./ur.js":308,"./uz":309,"./uz-latn":310,"./uz-latn.js":310,"./uz.js":309,"./vi":311,"./vi.js":311,"./x-pseudo":312,"./x-pseudo.js":312,"./yo":313,"./yo.js":313,"./zh-cn":314,"./zh-cn.js":314,"./zh-hk":315,"./zh-hk.js":315,"./zh-tw":316,"./zh-tw.js":316};function l(t){var e=r(t);return n(e)}function r(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}l.keys=function(){return Object.keys(map)},l.resolve=r,t.exports=l,l.id=322},328:function(t,e,n){"use strict";n.r(e);n(319),n(40);var l,r=n(5),o=(n(72),n(73),n(327)),c=o.b.reactiveProp,d={extends:o.a,mixins:[c],props:{options:{type:Object,default:function(){}}},mounted:function(){this.renderChart(this.chartData,this.options)}},h=n(10),j={components:{BarChart:Object(h.a)(d,void 0,void 0,!1,null,null,null).exports},layout:"fullpage",data:function(){return{colors:{},availableDateRange:[null,null],dateRange:[null,null],availableDecayFactors:[7],decayFactor:7,selectedStates:[""],scatterChartData:{},lineChartData:{},selectedCandidates:[],availableCandidates:[],availableStates:[],availableDates:[],primaryStates:[],scatterPlotSeriesForEachCandidate:[],lineChartsForEachCandidate:[],showLines:"1"}},computed:{dateLimitedAvailableCandidates:function(){var t=this;return this.availableCandidates.filter((function(e){return!(t.dateDiff(t.dateRange[1],e.minDate)>=0||t.dateDiff(e.maxDate,t.dateRange[0])>=0)})).map((function(a){return a.candidate}))},dateLimitedAvailableStates:function(){var t=this;return this.availableStates.filter((function(e){return!(t.dateDiff(t.dateRange[1],e.minDate)>=0||t.dateDiff(e.maxDate,t.dateRange[0])>=0)})).map((function(a){return a.state}))},minAndMaxDateNullPolls:function(){return[{x:this.dateRange[0],y:null},{x:this.dateRange[1],y:null}]},chartOptions:function(){return{responsive:!0,maintainAspectRatio:!1,legend:{labels:{filter:function(t,e){return"rgba(0,0,0,0)"!==t.fillStyle}}},scales:{xAxes:[{type:"time",distribution:"linear",time:{round:"day"}}],yAxes:[{ticks:{callback:function(t){return t.toLocaleString("en-US",{style:"percent"})},max:.5,suggestedMin:0}}]}}},scatterPolls:function(){var t=this;return this.scatterPlotSeriesForEachCandidate.filter((function(e){return t.selectedCandidates.includes(e.label)})).map((function(e){return{type:"scatter",label:e.label,backgroundColor:t.colors[e.label].light,borderColor:t.colors[e.label].light,data:e.data.filter((function(e){return t.selectedStates.includes(e.state)})).filter((function(b){return(!t.dateRange[0]||t.dateDiff(t.dateRange[0],b.x)>=0)&&(!t.dateRange[1]||t.dateDiff(b.x,t.dateRange[1])>=0)})).map((function(t){return{x:t.x,y:t.y}})).concat(t.minAndMaxDateNullPolls),fill:!0,showLine:!1}}))},averageLines:function(){var t=this;return console.log(this.showLines),"0"===this.showLines?[]:this.lineChartsForEachCandidate[0].filter((function(e){return t.selectedCandidates.includes(e.label)})).map((function(e){return{type:"scatter",label:e.label+"polls",backgroundColor:t.colors[e.label].dark,borderColor:t.colors[e.label].dark,data:e.data.filter((function(b){return(!t.dateRange[0]||t.dateDiff(t.dateRange[0],b.x)>=0)&&(!t.dateRange[1]||t.dateDiff(b.x,t.dateRange[1])>=0)})).map((function(t){return{x:t.x,y:t.y}})).concat(t.minAndMaxDateNullPolls),fill:!1,showLine:!0,pointRadius:0}}))},combinedChart:function(){return{datasets:this.averageLines.concat(this.scatterPolls)}}},asyncData:(l=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,t.next=3,n({method:"get",url:"https://kr-latest-primary-polls-processed.s3.us-east-2.amazonaws.com/latest.json"});case 3:return l=t.sent,t.abrupt("return",l.data);case 5:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),mounted:function(){this.setColors(),this.dateRange=[new Date(this.availableDates[0]),new Date(this.availableDates.slice(-1)[0])],this.availableDateRange=Object.assign({},this.dateRange),this.dateRange[0]=new Date("May 01 2019 00:00:00 GMT-0500 (Central Daylight Time)"),this.selectedCandidates=this.dateLimitedAvailableCandidates.slice(0,5),this.selectedStates=this.dateLimitedAvailableStates.slice()},methods:{setColors:function(){var t=this,e=this.generateHslColors(100);this.availableCandidates.forEach((function(n){return t.colors[n.candidate]=e.shift()}))},dateDiff:function(t,e){return Math.floor((new Date(e)-new Date(t))/864e5)},shuffleArray:function(t){for(var i=t.length-1;i>0;i--){var e=Math.floor(Math.random()*(i+1)),n=[t[e],t[i]];t[i]=n[0],t[e]=n[1]}return t},randomVal:function(t,e){return Math.floor(Math.random()*(e-t)+1)+t},generateHslColors:function(t){for(var e=[],n=Math.trunc(360/t),i=0;i<t-5;i++){var l=i*n,s=this.randomVal(30,95);e.push({light:"hsl(".concat(l,", ").concat(s,"%,  80%)"),dark:"hsl(".concat(l,", ").concat(s,"%,  40%)")})}return(e=this.shuffleArray(e)).unshift({light:"hsl(120, 40.66%, 80%)",dark:"hsl(120, 40.66%, 40%)"}),e.unshift({light:"hsl(305.38, 68.72%, 80%)",dark:"hsl(305.38, 68.72%, 40%)"}),e.unshift({light:"hsl(29.24, 96.75%, 80%)",dark:"hsl(29.24, 96.75%, 40%)"}),e.unshift({light:"hsl(214, 51.72%, 80%)",dark:"hsl(214, 51.72%, 40%)"}),e.unshift({light:"hsl(328.49, 98.35%, 80%)",dark:"hsl(328.49, 98.35%, 40%)"}),e}}},f=Object(h.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"hero"},[n("section",{staticClass:"hero-body"},[n("div",{staticClass:"level"},[n("div",{staticClass:"level-item"},[n("nuxt-link",{staticClass:"button is-outlined is-primary",attrs:{to:"/"}},[t._v("\n          Home\n        ")])],1)]),t._v(" "),n("div",{staticClass:"columns is-multiline is-centered"},[n("div",{staticClass:"column is-narrow"},[n("div",{staticClass:"level"},[n("bar-chart",{ref:"chart",attrs:{"chart-data":t.combinedChart,options:t.chartOptions}})],1),t._v(" "),n("div",{staticClass:"level"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-narrow"},[n("b-field",{attrs:{label:"From"}},[n("b-datepicker",{attrs:{"min-date":t.availableDateRange[0],"max-date":t.dateRange[1]},model:{value:t.dateRange[0],callback:function(e){t.$set(t.dateRange,0,e)},expression:"dateRange[0]"}})],1)],1),t._v(" "),n("div",{staticClass:"column is-narrow"},[n("b-field",{attrs:{label:"To"}},[n("b-datepicker",{attrs:{"min-date":t.availableDateRange[0],"max-date":t.availableDateRange[1]},model:{value:t.dateRange[1],callback:function(e){t.$set(t.dateRange,1,e)},expression:"dateRange[1]"}})],1)],1)])])]),t._v(" "),n("div",{staticClass:"column is-narrow"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-narrow"},[n("b-field",{attrs:{label:"States"}},[n("b-select",{staticClass:"is-small",attrs:{multiple:"","native-size":"6"},model:{value:t.selectedStates,callback:function(e){t.selectedStates=e},expression:"selectedStates"}},t._l(t.dateLimitedAvailableStates,(function(e,l){return n("option",{key:l,domProps:{value:e}},[t._v("\n                  "+t._s(""==e?"U.S.":e)+"\n                ")])})),0)],1),t._v(" "),n("b-field",{attrs:{label:"Total Average Lines"}},[n("div",{staticClass:"block"},[n("b-radio",{attrs:{"native-value":"1"},model:{value:t.showLines,callback:function(e){t.showLines=e},expression:"showLines"}},[t._v("\n                  On\n                ")]),t._v(" "),n("b-radio",{attrs:{"native-value":"0"},model:{value:t.showLines,callback:function(e){t.showLines=e},expression:"showLines"}},[t._v("\n                  Off\n                ")])],1)])],1),t._v(" "),n("div",{staticClass:"column is-narrow"},[n("b-field",{attrs:{label:"Candidates"}},[n("b-select",{staticClass:"is-small",attrs:{multiple:"","native-size":"10"},model:{value:t.selectedCandidates,callback:function(e){t.selectedCandidates=e},expression:"selectedCandidates"}},t._l(t.dateLimitedAvailableCandidates,(function(e,l){return n("option",{key:l,domProps:{value:e}},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)],1)],1)])])])])])}),[],!1,null,null,null);e.default=f.exports}}]);