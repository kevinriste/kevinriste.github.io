(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{183:function(t,e,n){var content=n(332);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(27).default)("7d289187",content,!0,{sourceMap:!1})},330:function(t,e,n){var map={"./af":187,"./af.js":187,"./ar":188,"./ar-dz":189,"./ar-dz.js":189,"./ar-kw":190,"./ar-kw.js":190,"./ar-ly":191,"./ar-ly.js":191,"./ar-ma":192,"./ar-ma.js":192,"./ar-sa":193,"./ar-sa.js":193,"./ar-tn":194,"./ar-tn.js":194,"./ar.js":188,"./az":195,"./az.js":195,"./be":196,"./be.js":196,"./bg":197,"./bg.js":197,"./bm":198,"./bm.js":198,"./bn":199,"./bn.js":199,"./bo":200,"./bo.js":200,"./br":201,"./br.js":201,"./bs":202,"./bs.js":202,"./ca":203,"./ca.js":203,"./cs":204,"./cs.js":204,"./cv":205,"./cv.js":205,"./cy":206,"./cy.js":206,"./da":207,"./da.js":207,"./de":208,"./de-at":209,"./de-at.js":209,"./de-ch":210,"./de-ch.js":210,"./de.js":208,"./dv":211,"./dv.js":211,"./el":212,"./el.js":212,"./en-SG":213,"./en-SG.js":213,"./en-au":214,"./en-au.js":214,"./en-ca":215,"./en-ca.js":215,"./en-gb":216,"./en-gb.js":216,"./en-ie":217,"./en-ie.js":217,"./en-il":218,"./en-il.js":218,"./en-nz":219,"./en-nz.js":219,"./eo":220,"./eo.js":220,"./es":221,"./es-do":222,"./es-do.js":222,"./es-us":223,"./es-us.js":223,"./es.js":221,"./et":224,"./et.js":224,"./eu":225,"./eu.js":225,"./fa":226,"./fa.js":226,"./fi":227,"./fi.js":227,"./fo":228,"./fo.js":228,"./fr":229,"./fr-ca":230,"./fr-ca.js":230,"./fr-ch":231,"./fr-ch.js":231,"./fr.js":229,"./fy":232,"./fy.js":232,"./ga":233,"./ga.js":233,"./gd":234,"./gd.js":234,"./gl":235,"./gl.js":235,"./gom-latn":236,"./gom-latn.js":236,"./gu":237,"./gu.js":237,"./he":238,"./he.js":238,"./hi":239,"./hi.js":239,"./hr":240,"./hr.js":240,"./hu":241,"./hu.js":241,"./hy-am":242,"./hy-am.js":242,"./id":243,"./id.js":243,"./is":244,"./is.js":244,"./it":245,"./it-ch":246,"./it-ch.js":246,"./it.js":245,"./ja":247,"./ja.js":247,"./jv":248,"./jv.js":248,"./ka":249,"./ka.js":249,"./kk":250,"./kk.js":250,"./km":251,"./km.js":251,"./kn":252,"./kn.js":252,"./ko":253,"./ko.js":253,"./ku":254,"./ku.js":254,"./ky":255,"./ky.js":255,"./lb":256,"./lb.js":256,"./lo":257,"./lo.js":257,"./lt":258,"./lt.js":258,"./lv":259,"./lv.js":259,"./me":260,"./me.js":260,"./mi":261,"./mi.js":261,"./mk":262,"./mk.js":262,"./ml":263,"./ml.js":263,"./mn":264,"./mn.js":264,"./mr":265,"./mr.js":265,"./ms":266,"./ms-my":267,"./ms-my.js":267,"./ms.js":266,"./mt":268,"./mt.js":268,"./my":269,"./my.js":269,"./nb":270,"./nb.js":270,"./ne":271,"./ne.js":271,"./nl":272,"./nl-be":273,"./nl-be.js":273,"./nl.js":272,"./nn":274,"./nn.js":274,"./pa-in":275,"./pa-in.js":275,"./pl":276,"./pl.js":276,"./pt":277,"./pt-br":278,"./pt-br.js":278,"./pt.js":277,"./ro":279,"./ro.js":279,"./ru":280,"./ru.js":280,"./sd":281,"./sd.js":281,"./se":282,"./se.js":282,"./si":283,"./si.js":283,"./sk":284,"./sk.js":284,"./sl":285,"./sl.js":285,"./sq":286,"./sq.js":286,"./sr":287,"./sr-cyrl":288,"./sr-cyrl.js":288,"./sr.js":287,"./ss":289,"./ss.js":289,"./sv":290,"./sv.js":290,"./sw":291,"./sw.js":291,"./ta":292,"./ta.js":292,"./te":293,"./te.js":293,"./tet":294,"./tet.js":294,"./tg":295,"./tg.js":295,"./th":296,"./th.js":296,"./tl-ph":297,"./tl-ph.js":297,"./tlh":298,"./tlh.js":298,"./tr":299,"./tr.js":299,"./tzl":300,"./tzl.js":300,"./tzm":301,"./tzm-latn":302,"./tzm-latn.js":302,"./tzm.js":301,"./ug-cn":303,"./ug-cn.js":303,"./uk":304,"./uk.js":304,"./ur":305,"./ur.js":305,"./uz":306,"./uz-latn":307,"./uz-latn.js":307,"./uz.js":306,"./vi":308,"./vi.js":308,"./x-pseudo":309,"./x-pseudo.js":309,"./yo":310,"./yo.js":310,"./zh-cn":311,"./zh-cn.js":311,"./zh-hk":312,"./zh-hk.js":312,"./zh-tw":313,"./zh-tw.js":313};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=330},331:function(t,e,n){"use strict";var r=n(183);n.n(r).a},332:function(t,e,n){(t.exports=n(26)(!1)).push([t.i,"span.hidden{visibility:hidden}",""])},339:function(t,e,n){"use strict";n.r(e);n(316),n(317),n(52);var r=n(6),o=(n(73),n(71),n(36),n(22),n(67),n(320),n(337)),l=(n(323),n(327)),c=n(338),j=c.b.reactiveProp,d={extends:c.a,mixins:[j],props:{options:{type:Object,default:function(){}}},mounted:function(){this.renderChart(this.chartData,this.options)}},h=n(13),m={components:{ScatterChart:Object(h.a)(d,void 0,void 0,!1,null,null,null).exports},layout:"fullpage",data:function(){return{fiveThirtyEightDataset:[],pollsterRatings:[],jsonURL:"",pollstersURL:"",globalAverage:2.341782,chartData:{},chartOptions:{scales:{xAxes:[{type:"time",distribution:"linear",time:{round:"day"}}]}}}},computed:{pollsMapped:function(){var t=this;return this.fiveThirtyEightDataset.map(function(a){var e=new Date(a.start_date).getTime()+(new Date(a.end_date).getTime()-new Date(a.start_date).getTime())/2,n=1.96*Math.sqrt(a.pct/100*(1-a.pct/100)/a.sample_size)*100,r=t.pollsterRatings.find(function(b){return b.Pollster==a.pollster}),o=6400*(-2^n+(t.globalAverage+!r?0:r["Predictive Plus-Minus"]))/(6400*(-2^n+t.globalAverage));return{answer:a.answer,pct:t.round(a.pct/100,4),state:a.state,question_id:a.question_id,medianDate:new Date(e),pollWeight:o,party:a.party}})},pollScatter:function(){var t=this,e=Object(o.a)(new Set(this.pollsMapped.filter(function(a){return"Biden"==a.answer}).map(function(a){return a.question_id}))),n=["Sanders","Biden","Buttigieg","Harris","Warren","O'Rourke","Booker","Klobuchar"],r=this.generateHslColors(n.length),l=this.pollsMapped.filter(function(a){return"DEM"==a.party&&n.includes(a.answer)&&e.includes(a.question_id)}),c=[],j=function(e){c.push({label:n[e],backgroundColor:r[e],data:l.filter(function(a){return a.answer==n[e]}).map(function(a){return{x:a.medianDate,y:a.pct}})}),console.log("hsl("+t.randomVal(0,360)+", "+t.randomVal(30,95)+"%,  "+t.randomVal(30,80)+"%)")};for(var d in n)j(d);return{datasets:c}}},asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,o,c,j;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,t.next=3,n({method:"get",url:"https://cors-anywhere.herokuapp.com/https://projects.fivethirtyeight.com/polls-page/president_primary_polls.csv"});case 3:return r=t.sent,t.next=6,l().fromString(r.data);case 6:return o=t.sent,t.next=9,n({method:"get",url:"https://cors-anywhere.herokuapp.com/https://raw.githubusercontent.com/fivethirtyeight/data/master/pollster-ratings/pollster-ratings.csv"});case 9:return c=t.sent,t.next=12,l().fromString(c.data);case 12:return j=t.sent,t.abrupt("return",{fiveThirtyEightDataset:o,jsonURL:window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),pollsterRatings:j,pollstersURL:window.URL.createObjectURL(new Blob([JSON.stringify(j)],{type:"application/json"}))});case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),mounted:function(){this.fillData()},methods:{fillData:function(){this.chartData=this.pollScatter},randomVal:function(t,e){return Math.floor(Math.random()*(e-t)+1)+t},round:function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},generateHslColors:function(t){for(var e=[],n=Math.trunc(360/t),i=0;i<t;i++){var r=i*n;e.push("hsl(".concat(r,", ").concat(this.randomVal(30,95),"%,  ").concat(this.randomVal(30,80),"%)"))}return e}}},f=(n(331),Object(h.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-1"},[n("div",{staticClass:"buttons is-centered"},[t._m(0),t._v(" "),n("p",[n("nuxt-link",{staticClass:"button is-outlined is-primary",attrs:{to:"/"}},[t._v("\n            Home\n          ")])],1)])])]),t._v(" "),n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column"},[n("div",{staticClass:"buttons is-centered"},[n("a",{staticClass:"button is-outlined is-link",attrs:{href:t.jsonURL,target:"_blank"}},[t._v("\n          Download Polls\n        ")]),t._v(" "),n("a",{staticClass:"button is-outlined is-link",attrs:{href:t.pollstersURL,target:"_blank"}},[t._v("\n          Download Ratings\n        ")]),t._v(" "),n("span",{staticClass:"button is-outlined is-link",on:{click:function(e){return t.fillData()}}},[t._v("\n          Rerun Chart\n        ")])])])]),t._v(" "),n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-4"},[n("scatter-chart",{attrs:{"chart-data":t.chartData,options:t.chartOptions}})],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"button hidden"},[this._v("\n            Home\n          ")])])}],!1,null,null,null));e.default=f.exports}}]);