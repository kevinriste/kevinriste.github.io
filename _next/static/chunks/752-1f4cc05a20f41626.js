"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[752],{9012:function(e,n,t){var l=t(5893),i=t(8051),a=t(3907),r=t(1664),s=t.n(r),c=t(1163);n.Z=()=>{let e=(0,c.useRouter)();return(0,l.jsxs)(i.Z,{container:!0,spacing:2,children:["/election-2024"!==e.pathname&&(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{href:"/election-2024",variant:"outlined",component:s(),sx:{textTransform:"none"},children:"2024 General Election"})})}),"/election-2024-biden"!==e.pathname&&(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{href:"/election-2024-biden",variant:"outlined",component:s(),sx:{textTransform:"none"},children:"2024 General Election (Biden)"})})}),"/election-2024-republican"!==e.pathname&&(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{href:"/election-2024-republican",variant:"outlined",component:s(),sx:{textTransform:"none"},children:"2024 Republican Primary"})})}),"/election-2024-democrat"!==e.pathname&&(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{href:"/election-2024-democrat",variant:"outlined",component:s(),sx:{textTransform:"none"},children:"2024 Democratic Primary"})})}),"/election-2020"!==e.pathname&&(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{href:"/election-2020",variant:"outlined",component:s(),sx:{textTransform:"none"},children:"2020 General Election"})})})]})}},8371:function(e,n,t){t.d(n,{Z:function(){return I}});var l=t(5893),i=t(8051),a=t(3907),r=t(18),s=t(7182),c=t(6788),o=t(8607),d=t(8649),x=t(6746),h=t(1873),u=t(1030),p=t(607),f=t(2200),m=t(6541),j=t(7294),g=t(1664),Z=t.n(g),v=t(3148);t(2619);var y=t(6495),b=t(7885);let C=(e,n,t)=>{var l,i;return{responsive:!0,aspectRatio:1,plugins:{legend:{labels:{filter:e=>"polls"!==e.text.slice(-5)}}},scales:{x:{bounds:"data",type:"time",time:{round:"day",unit:"month"},ticks:{autoSkip:!1},offset:!1,min:null===(l=e[0])||void 0===l?void 0:l.toString(),max:null===(i=e[1])||void 0===i?void 0:i.toString()},y:{max:t,min:n,ticks:{callback:e=>"string"==typeof e?e:e.toLocaleString("en-US",{style:"percent"})}}}}},k=(e,n,t,l,i,a)=>e.filter(e=>n.includes(e.label)).map(e=>({label:e.label,backgroundColor:t[e.label].light,borderColor:t[e.label].light,data:e.data.filter(e=>l.includes(e.state)).filter(e=>(!i[0]||S(i[0],e.x)>=0)&&(!i[1]||S(e.x,i[1])>=0)).map(e=>({x:e.x,y:e.y})).concat(a),fill:!1,showLine:!1})),D=(e,n,t,l,i,a,r)=>{if("off"===e)return[];{let s=n.find(n=>n.decayFactor===l&&n.stateSetDescription===e);return s?s.lineChartData.filter(e=>i.includes(e.label)).map(e=>({label:e.label+"polls",backgroundColor:t[e.label].dark,borderColor:t[e.label].dark,data:e.data.filter(e=>(!a[0]||S(a[0],e.x)>=0)&&(!a[1]||S(e.x,a[1])>=0)).map(e=>({x:e.x,y:e.y})).concat(r),fill:!1,showLine:!0,pointRadius:0})):[]}},S=(e,n)=>{let t=0;return e&&n&&(t=Math.floor((new Date(n).getTime()-new Date(e).getTime())/864e5)),t};var w=t(2359),P=t(1482),T=t(5160),E=t(5418),M=t(9012);v.kL.register(v.Gu,v.De,v.uw,v.f$,v.ST,v.jn,v.od,v.ho,v.FB,v.u);var I=e=>{let{processedPollsUrl:n,yMin:t,yMax:g,initialDate:v,initialNumberOfCandidates:I}=e,F=e=>{for(let n=e.length-1;n>0;n--){let t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e},H=(e,n)=>Math.floor(Math.random()*(n-e)+1)+e,R=j.useRef((e=>{let n=[],t=Math.trunc(3.6);for(let e=0;e<95;e++){let l=e*t,i=H(30,95);n.push({light:"hsl(".concat(l,", ").concat(i,"%,  80%)"),dark:"hsl(".concat(l,", ").concat(i,"%,  40%)")})}return F(n)})(0)),[A,L]=j.useState([]),[N,B]=j.useState([""]),[G,O]=j.useState("National Polls"),[Y,_]=j.useState([null,null]),[W,U]=j.useState(void 0),[J,V]=j.useState(void 0),K=j.useRef(!1);j.useEffect(()=>{(async()=>{if(!K.current)try{let e=await fetch(n);if(!e.ok){let n="Network response was not ok: ".concat(e.status," (").concat(e.statusText,")");try{let t=await e.json();n+=" - ".concat(JSON.stringify(t))}catch(e){console.error("Error reading response body:",e)}throw Error(n)}let t=await e.arrayBuffer(),l=JSON.parse(b.ZP.inflate(t,{to:"string"}));l.initialDate=new Date(l.availableDates[0]||""),l.finalDate=new Date(l.availableDates.slice(-1)[0]||""),U(l)}catch(e){console.error(e),V("An error occurred")}})(),K.current=!0},[n]),!J&&K.current&&null===Y[0]&&null===Y[1]&&_([v||(null==W?void 0:W.initialDate)||null,(null==W?void 0:W.finalDate)||null]);let $=[null==W?void 0:W.initialDate,null==W?void 0:W.finalDate],q=((e,n)=>{if(!Array.isArray(e))return{};{var t,l,i,a;let r=[...e],s={},c=n.slice(0,6),o=[{light:"hsl(214, 51.72%, 80%)",dark:"hsl(214, 51.72%, 40%)"},{light:"hsl(328.49, 98.35%, 80%)",dark:"hsl(328.49, 98.35%, 40%)"},{light:"hsl(29.24, 96.75%, 80%)",dark:"hsl(29.24, 96.75%, 40%)"},{light:"hsl(120, 40.66%, 80%)",dark:"hsl(120, 40.66%, 40%)"},{light:"hsl(305.38, 68.72%, 80%)",dark:"hsl(305.38, 68.72%, 40%)"},{light:"hsl(359.4, 79.5%, 80%)",dark:"hsl(359.4, 79.5%, 40%)"}];return c.forEach((e,n)=>{s[e.candidate]=o[n]}),(null===(t=c.slice(0,1).pop())||void 0===t?void 0:t.candidate)==="Trump"&&(null===(l=c.slice(1,2).pop())||void 0===l?void 0:l.candidate)==="Biden"&&(s.Trump=o[1],s.Biden=o[0]),(null===(i=c.slice(0,1).pop())||void 0===i?void 0:i.candidate)==="Trump"&&(null===(a=c.slice(1,2).pop())||void 0===a?void 0:a.candidate)==="Harris"&&(s.Trump=o[1],s.Harris=o[0]),n.forEach(e=>{if(!(e.candidate in s)){let n=r.shift();n&&(s[e.candidate]=n)}}),s}})(R.current,(null==W?void 0:W.availableCandidates)||[]),z=(null==W?void 0:W.availableCandidates.filter(e=>!(S(Y[1],e.minDate)>=0)&&!(S(e.maxDate,Y[0])>=0)).map(e=>e.candidate))||[];!J&&K.current&&0===A.length&&L(z.slice(0,null!=I?I:6));let Q=(null==W?void 0:W.availableStates.filter(e=>!(S(Y[1],e.minDate)>=0)&&!(S(e.maxDate,Y[0])>=0)).map(e=>e.state))||[],X=[{x:Y[0],y:null},{x:Y[1],y:null}],ee={datasets:[...D(G,(null==W?void 0:W.lineChartsForEachCandidate)||[],q,7,A,Y,X),...k((null==W?void 0:W.scatterPlotSeriesForEachCandidate)||[],A,q,N,Y,X)]};j.useEffect(()=>{let e="off";1===N.length?""===N[0]?e="National Polls":((null==W?void 0:W.lineChartsForEachCandidate)||[]).map(e=>e.stateSetDescription).includes("".concat(N[0]," Polls"))&&(e="".concat(N[0]," Polls")):N.length===Q.length&&(e="All Polls"),O(e)},[N,null==W?void 0:W.lineChartsForEachCandidate,Q.length]);let en=C(Y,t,g);return(0,l.jsxs)(i.Z,{children:[(0,l.jsx)(i.Z,{container:!0,spacing:2,sx:{marginY:2},display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{href:"/",variant:"outlined",component:Z(),sx:{textTransform:"none"},children:"Home"})})}),J?(0,l.jsx)(i.Z,{children:(0,l.jsx)(i.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(r.Z,{severity:"error",sx:{marginY:6},children:J})})})}):K.current?(0,l.jsxs)(i.Z,{container:!0,children:[(0,l.jsx)(i.Z,{xs:12,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(y.kL,{type:"line",data:ee,options:en,style:{maxHeight:400,maxWidth:400}})}),(0,l.jsxs)(i.Z,{xs:12,sx:{marginY:2},container:!0,spacing:2,display:"flex",justifyContent:"center",children:[(0,l.jsx)(i.Z,{children:(0,l.jsxs)(o.Z,{sx:{width:200},children:[(0,l.jsx)(d.Z,{children:"States"}),(0,l.jsx)(x.Z,{multiple:!0,value:N,onChange:e=>{let{target:{value:n}}=e;B("string"==typeof n?n.split(","):n)},label:"States",MenuProps:{PaperProps:{sx:{maxHeight:400}}},renderValue:e=>(0,l.jsx)(E.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>{let n=""===e?"U.S.":e;return(0,l.jsx)(h.Z,{label:n},n)})}),children:Q.map(e=>{let n=""===e?"U.S.":e;return(0,l.jsxs)(u.Z,{value:e,children:[(0,l.jsx)(p.Z,{checked:N.includes(e)}),(0,l.jsx)(f.Z,{primary:n})]},n)})})]})}),(0,l.jsx)(i.Z,{children:(0,l.jsxs)(o.Z,{sx:{width:200},children:[(0,l.jsx)(d.Z,{children:"Candidates"}),(0,l.jsx)(x.Z,{multiple:!0,value:A,onChange:e=>{let{target:{value:n}}=e;L("string"==typeof n?n.split(","):n)},label:"Candidates",MenuProps:{PaperProps:{sx:{maxHeight:400}}},renderValue:e=>(0,l.jsx)(E.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,l.jsx)(h.Z,{label:e},e))}),children:z.map(e=>(0,l.jsxs)(u.Z,{value:e,children:[(0,l.jsx)(p.Z,{checked:A.includes(e)}),(0,l.jsx)(f.Z,{primary:e})]},e))})]})}),(0,l.jsx)(i.Z,{children:(0,l.jsxs)(o.Z,{sx:{width:200},children:[(0,l.jsx)(d.Z,{children:"Average Lines"}),(0,l.jsxs)(x.Z,{value:G,label:"Average Lines",onChange:e=>{O(e.target.value)},MenuProps:{PaperProps:{sx:{maxHeight:400}}},sx:{minHeight:65},children:[null==W?void 0:W.lineChartsForEachCandidate.map(e=>(0,l.jsx)(u.Z,{value:e.stateSetDescription,children:e.stateSetDescription},e.stateSetDescription)),(0,l.jsx)(u.Z,{value:"off",children:"Off"})]})]})})]}),(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:(0,l.jsxs)(w._,{dateAdapter:T.H,children:[(0,l.jsx)(i.Z,{children:(0,l.jsx)(P.O,{label:"From",inputFormat:"yyyy-MMM-dd",value:Y[0],onChange:e=>{_([e,Y[1]])},renderInput:e=>(0,l.jsx)(m.Z,{sx:{width:200},...e}),disableFuture:!0,minDate:$[0]||void 0})}),(0,l.jsx)(i.Z,{children:(0,l.jsx)(P.O,{label:"To",inputFormat:"yyyy-MMM-dd",value:Y[1],onChange:e=>{_([Y[0],e])},renderInput:e=>(0,l.jsx)(m.Z,{sx:{width:200},...e}),disableFuture:!0,minDate:$[0]||void 0})})]})}),(0,l.jsx)(i.Z,{xs:12,container:!0,spacing:2,sx:{marginY:2},display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(a.Z,{variant:"outlined",onClick:()=>{_([null,null]),L([]),B([""])},sx:{textTransform:"none"},children:"Reset"})})})]}):(0,l.jsxs)(i.Z,{children:[(0,l.jsx)(i.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(s.Z,{disableShrink:!0,sx:{marginY:6}})})}),(0,l.jsx)(i.Z,{container:!0,spacing:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(c.Z,{children:"Getting latest data..."})})})]}),(0,l.jsx)(i.Z,{sx:{marginTop:4},children:(0,l.jsx)(M.Z,{})})]})}},5776:function(e,n,t){var l=t(5893),i=t(1032),a=t(9008),r=t.n(a);t(7294),n.Z=e=>{let{children:n,title:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r(),{children:[(0,l.jsx)("title",{children:t}),(0,l.jsx)("meta",{name:"description",content:"Kevin Riste's GitHub Pages site"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)("main",{children:(0,l.jsx)(i.Z,{maxWidth:"xl",sx:{minHeight:"90vh",marginBottom:4},children:n})})]})}}}]);